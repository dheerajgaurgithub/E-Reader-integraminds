{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder (3)\\\\frontend\\\\src\\\\components\\\\Books\\\\BookReader.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Paper, Typography, Box, Button, IconButton, LinearProgress, Dialog, DialogTitle, DialogContent, DialogActions, Slider, FormControl, InputLabel, Select, MenuItem, Alert, CircularProgress } from '@mui/material';\nimport { ArrowBack, ArrowForward, Settings, Bookmark, Close } from '@mui/icons-material';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { booksAPI } from '../../services/api';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookReader = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [book, setBook] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [pages, setPages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [fontSize, setFontSize] = useState(16);\n  const [theme, setTheme] = useState('light');\n  const [progress, setProgress] = useState(null);\n  useEffect(() => {\n    fetchBook();\n    fetchProgress();\n  }, [id]);\n  useEffect(() => {\n    if (book && book.content) {\n      // Split content into pages (simple implementation)\n      const wordsPerPage = 300;\n      const words = book.content.split(' ');\n      const pageCount = Math.ceil(words.length / wordsPerPage);\n      const bookPages = [];\n      for (let i = 0; i < pageCount; i++) {\n        const startIndex = i * wordsPerPage;\n        const endIndex = Math.min((i + 1) * wordsPerPage, words.length);\n        const pageContent = words.slice(startIndex, endIndex).join(' ');\n        bookPages.push(pageContent);\n      }\n      setPages(bookPages);\n      setTotalPages(pageCount);\n\n      // Set current page from progress or start from beginning\n      if (progress && progress.current_page) {\n        setCurrentPage(progress.current_page);\n      }\n    }\n  }, [book, progress]);\n  useEffect(() => {\n    // Update reading progress when page changes\n    if (book && currentPage > 0) {\n      updateProgress();\n    }\n  }, [currentPage, book]);\n  const fetchBook = async () => {\n    try {\n      const response = await booksAPI.getBook(id);\n      setBook(response.data.book);\n    } catch (err) {\n      setError('Failed to load book');\n      console.error('Book fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchProgress = async () => {\n    try {\n      const response = await booksAPI.getProgress(id);\n      setProgress(response.data.progress);\n    } catch (err) {\n      // Progress might not exist yet, that's okay\n      console.log('No progress found for this book');\n    }\n  };\n  const updateProgress = async () => {\n    if (!user) return; // Don't track progress for non-authenticated users\n\n    try {\n      const response = await booksAPI.updateProgress(id, {\n        current_page: currentPage,\n        total_pages: totalPages\n      });\n\n      // Update local progress state with the latest from server\n      if (response.data && response.data.progress) {\n        setProgress(response.data.progress);\n      }\n\n      // Notify user when they complete the book\n      if (currentPage === totalPages && !(progress !== null && progress !== void 0 && progress.completed)) {\n        // Only show the completion message if we haven't already\n        if (!progress || progress.current_page < totalPages) {\n          // You can add a toast notification here if you have one\n          console.log('Book completed!');\n        }\n      }\n    } catch (err) {\n      console.error('Failed to update progress:', err);\n      // Consider adding a retry mechanism here\n    }\n  };\n  const handlePreviousPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(prevPage => {\n        const newPage = prevPage + 1;\n        // If this is the first page, we're starting the book\n        if (prevPage === 1 && !progress) {\n          // You can add analytics or additional logic for book start\n          console.log('Started reading book');\n        }\n        return newPage;\n      });\n    }\n  };\n  const handlePageJump = (event, newPage) => {\n    setCurrentPage(Math.min(Math.max(1, newPage), totalPages));\n  };\n  const progressPercentage = totalPages > 0 ? Math.min(100, Math.max(0, currentPage / totalPages * 100)) : 0;\n\n  // Calculate time spent reading (simple implementation)\n  const calculateReadingTime = () => {\n    if (!(progress !== null && progress !== void 0 && progress.started_reading)) return 'Just started';\n    const started = new Date(progress.started_reading);\n    const now = new Date();\n    const diffMs = now - started;\n    const diffMins = Math.round(diffMs / 60000);\n    if (diffMins < 1) return 'Just started';\n    if (diffMins < 60) return `${diffMins} min`;\n    const hours = Math.floor(diffMins / 60);\n    const mins = diffMins % 60;\n    return `${hours}h ${mins}m`;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        mt: 4,\n        mb: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        minHeight: \"400px\",\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !book) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        mt: 4,\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error || 'Book not found'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 2,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: () => navigate('/books'),\n          children: \"Back to Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      backgroundColor: theme === 'dark' ? '#1a1a1a' : '#ffffff'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 1,\n      sx: {\n        p: 2,\n        position: 'sticky',\n        top: 0,\n        zIndex: 1000,\n        backgroundColor: theme === 'dark' ? '#2a2a2a' : '#ffffff'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => navigate('/books'),\n            sx: {\n              mr: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              noWrap: true,\n              sx: {\n                maxWidth: 300\n              },\n              children: book.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              children: [\"by \", book.author]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 2,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'right'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"Page \", currentPage, \" of \", totalPages]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"textSecondary\",\n              children: [progressPercentage.toFixed(1), \"% \\u2022 \", calculateReadingTime()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => setSettingsOpen(true),\n            children: /*#__PURE__*/_jsxDEV(Settings, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 2,\n        children: [/*#__PURE__*/_jsxDEV(LinearProgress, {\n          variant: \"determinate\",\n          value: progressPercentage,\n          sx: {\n            height: 6,\n            borderRadius: 3\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"textSecondary\",\n          children: [Math.round(progressPercentage), \"% complete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 0,\n        sx: {\n          p: 4,\n          minHeight: '70vh',\n          backgroundColor: theme === 'dark' ? '#2a2a2a' : '#ffffff',\n          color: theme === 'dark' ? '#ffffff' : '#000000'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            fontSize: `${fontSize}px`,\n            lineHeight: 1.8,\n            textAlign: 'justify',\n            fontFamily: 'Georgia, serif'\n          },\n          children: pages[currentPage - 1] || 'Content not available'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        mt: 3,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 24\n          }, this),\n          onClick: handlePreviousPage,\n          disabled: currentPage <= 1,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 2,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: \"Go to page:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: 200\n            },\n            children: /*#__PURE__*/_jsxDEV(Slider, {\n              value: currentPage,\n              onChange: handlePageJump,\n              min: 1,\n              max: totalPages,\n              valueLabelDisplay: \"auto\",\n              marks: true,\n              step: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          endIcon: /*#__PURE__*/_jsxDEV(ArrowForward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 22\n          }, this),\n          onClick: handleNextPage,\n          disabled: currentPage >= totalPages,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: settingsOpen,\n      onClose: () => setSettingsOpen(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Reading Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            pt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            children: \"Font Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            value: fontSize,\n            onChange: (e, newValue) => setFontSize(newValue),\n            min: 12,\n            max: 24,\n            valueLabelDisplay: \"auto\",\n            marks: [{\n              value: 12,\n              label: 'Small'\n            }, {\n              value: 16,\n              label: 'Medium'\n            }, {\n              value: 20,\n              label: 'Large'\n            }, {\n              value: 24,\n              label: 'Extra Large'\n            }]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            mt: 3,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Theme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: theme,\n                label: \"Theme\",\n                onChange: e => setTheme(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"light\",\n                  children: \"Light\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"dark\",\n                  children: \"Dark\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setSettingsOpen(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n};\n_s(BookReader, \"jKmjmv1Yf5FsKJtWwEH2/CVaVcE=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = BookReader;\nexport default BookReader;\nvar _c;\n$RefreshReg$(_c, \"BookReader\");","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","Typography","Box","Button","IconButton","LinearProgress","Dialog","DialogTitle","DialogContent","DialogActions","Slider","FormControl","InputLabel","Select","MenuItem","Alert","CircularProgress","ArrowBack","ArrowForward","Settings","Bookmark","Close","useParams","useNavigate","booksAPI","useAuth","jsxDEV","_jsxDEV","BookReader","_s","id","navigate","user","book","setBook","currentPage","setCurrentPage","totalPages","setTotalPages","pages","setPages","loading","setLoading","error","setError","settingsOpen","setSettingsOpen","fontSize","setFontSize","theme","setTheme","progress","setProgress","fetchBook","fetchProgress","content","wordsPerPage","words","split","pageCount","Math","ceil","length","bookPages","i","startIndex","endIndex","min","pageContent","slice","join","push","current_page","updateProgress","response","getBook","data","err","console","getProgress","log","total_pages","completed","handlePreviousPage","handleNextPage","prevPage","newPage","handlePageJump","event","max","progressPercentage","calculateReadingTime","started_reading","started","Date","now","diffMs","diffMins","round","hours","floor","mins","maxWidth","sx","mt","mb","children","display","justifyContent","alignItems","minHeight","fileName","_jsxFileName","lineNumber","columnNumber","severity","variant","onClick","backgroundColor","elevation","p","position","top","zIndex","mr","noWrap","title","color","author","gap","textAlign","toFixed","value","height","borderRadius","py","lineHeight","fontFamily","startIcon","disabled","width","onChange","valueLabelDisplay","marks","step","endIcon","open","onClose","fullWidth","pt","gutterBottom","e","newValue","label","target","_c","$RefreshReg$"],"sources":["D:/New folder (3)/frontend/src/components/Books/BookReader.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Paper,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  LinearProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slider,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Alert,\n  CircularProgress,\n} from '@mui/material';\nimport {\n  ArrowBack,\n  ArrowForward,\n  Settings,\n  Bookmark,\n  Close,\n} from '@mui/icons-material';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { booksAPI } from '../../services/api';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst BookReader = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [book, setBook] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [pages, setPages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [fontSize, setFontSize] = useState(16);\n  const [theme, setTheme] = useState('light');\n  const [progress, setProgress] = useState(null);\n\n  useEffect(() => {\n    fetchBook();\n    fetchProgress();\n  }, [id]);\n\n  useEffect(() => {\n    if (book && book.content) {\n      // Split content into pages (simple implementation)\n      const wordsPerPage = 300;\n      const words = book.content.split(' ');\n      const pageCount = Math.ceil(words.length / wordsPerPage);\n      \n      const bookPages = [];\n      for (let i = 0; i < pageCount; i++) {\n        const startIndex = i * wordsPerPage;\n        const endIndex = Math.min((i + 1) * wordsPerPage, words.length);\n        const pageContent = words.slice(startIndex, endIndex).join(' ');\n        bookPages.push(pageContent);\n      }\n      \n      setPages(bookPages);\n      setTotalPages(pageCount);\n      \n      // Set current page from progress or start from beginning\n      if (progress && progress.current_page) {\n        setCurrentPage(progress.current_page);\n      }\n    }\n  }, [book, progress]);\n\n  useEffect(() => {\n    // Update reading progress when page changes\n    if (book && currentPage > 0) {\n      updateProgress();\n    }\n  }, [currentPage, book]);\n\n  const fetchBook = async () => {\n    try {\n      const response = await booksAPI.getBook(id);\n      setBook(response.data.book);\n    } catch (err) {\n      setError('Failed to load book');\n      console.error('Book fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchProgress = async () => {\n    try {\n      const response = await booksAPI.getProgress(id);\n      setProgress(response.data.progress);\n    } catch (err) {\n      // Progress might not exist yet, that's okay\n      console.log('No progress found for this book');\n    }\n  };\n\n  const updateProgress = async () => {\n    if (!user) return; // Don't track progress for non-authenticated users\n    \n    try {\n      const response = await booksAPI.updateProgress(id, {\n        current_page: currentPage,\n        total_pages: totalPages,\n      });\n      \n      // Update local progress state with the latest from server\n      if (response.data && response.data.progress) {\n        setProgress(response.data.progress);\n      }\n      \n      // Notify user when they complete the book\n      if (currentPage === totalPages && !progress?.completed) {\n        // Only show the completion message if we haven't already\n        if (!progress || progress.current_page < totalPages) {\n          // You can add a toast notification here if you have one\n          console.log('Book completed!');\n        }\n      }\n    } catch (err) {\n      console.error('Failed to update progress:', err);\n      // Consider adding a retry mechanism here\n    }\n  };\n\n  const handlePreviousPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(prevPage => {\n        const newPage = prevPage + 1;\n        // If this is the first page, we're starting the book\n        if (prevPage === 1 && !progress) {\n          // You can add analytics or additional logic for book start\n          console.log('Started reading book');\n        }\n        return newPage;\n      });\n    }\n  };\n\n  const handlePageJump = (event, newPage) => {\n    setCurrentPage(Math.min(Math.max(1, newPage), totalPages));\n  };\n\n  const progressPercentage = totalPages > 0 ? Math.min(100, Math.max(0, (currentPage / totalPages) * 100)) : 0;\n  \n  // Calculate time spent reading (simple implementation)\n  const calculateReadingTime = () => {\n    if (!progress?.started_reading) return 'Just started';\n    \n    const started = new Date(progress.started_reading);\n    const now = new Date();\n    const diffMs = now - started;\n    const diffMins = Math.round(diffMs / 60000);\n    \n    if (diffMins < 1) return 'Just started';\n    if (diffMins < 60) return `${diffMins} min`;\n    \n    const hours = Math.floor(diffMins / 60);\n    const mins = diffMins % 60;\n    return `${hours}h ${mins}m`;\n  };\n\n  if (loading) {\n    return (\n      <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\n          <CircularProgress />\n        </Box>\n      </Container>\n    );\n  }\n\n  if (error || !book) {\n    return (\n      <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\n        <Alert severity=\"error\">\n          {error || 'Book not found'}\n        </Alert>\n        <Box mt={2}>\n          <Button variant=\"contained\" onClick={() => navigate('/books')}>\n            Back to Books\n          </Button>\n        </Box>\n      </Container>\n    );\n  }\n\n  return (\n    <Box sx={{ minHeight: '100vh', backgroundColor: theme === 'dark' ? '#1a1a1a' : '#ffffff' }}>\n      {/* Header */}\n      <Paper \n        elevation={1} \n        sx={{ \n          p: 2, \n          position: 'sticky', \n          top: 0, \n          zIndex: 1000,\n          backgroundColor: theme === 'dark' ? '#2a2a2a' : '#ffffff'\n        }}\n      >\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n          <Box display=\"flex\" alignItems=\"center\">\n            <IconButton onClick={() => navigate('/books')} sx={{ mr: 2 }}>\n              <Close />\n            </IconButton>\n            <Box>\n              <Typography variant=\"h6\" noWrap sx={{ maxWidth: 300 }}>\n                {book.title}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                by {book.author}\n              </Typography>\n            </Box>\n          </Box>\n          \n          <Box display=\"flex\" alignItems=\"center\" gap={2}>\n            <Box sx={{ textAlign: 'right' }}>\n              <Typography variant=\"body2\">\n                Page {currentPage} of {totalPages}\n              </Typography>\n              <Typography variant=\"caption\" color=\"textSecondary\">\n                {progressPercentage.toFixed(1)}% â€¢ {calculateReadingTime()}\n              </Typography>\n            </Box>\n            <IconButton onClick={() => setSettingsOpen(true)}>\n              <Settings />\n            </IconButton>\n          </Box>\n        </Box>\n        \n        <Box mt={2}>\n          <LinearProgress \n            variant=\"determinate\" \n            value={progressPercentage} \n            sx={{ height: 6, borderRadius: 3 }}\n          />\n          <Typography variant=\"caption\" color=\"textSecondary\">\n            {Math.round(progressPercentage)}% complete\n          </Typography>\n        </Box>\n      </Paper>\n\n      {/* Reading Content */}\n      <Container maxWidth=\"md\" sx={{ py: 4 }}>\n        <Paper \n          elevation={0} \n          sx={{ \n            p: 4, \n            minHeight: '70vh',\n            backgroundColor: theme === 'dark' ? '#2a2a2a' : '#ffffff',\n            color: theme === 'dark' ? '#ffffff' : '#000000'\n          }}\n        >\n          <Typography \n            variant=\"body1\" \n            sx={{ \n              fontSize: `${fontSize}px`,\n              lineHeight: 1.8,\n              textAlign: 'justify',\n              fontFamily: 'Georgia, serif'\n            }}\n          >\n            {pages[currentPage - 1] || 'Content not available'}\n          </Typography>\n        </Paper>\n\n        {/* Navigation */}\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mt={3}>\n          <Button\n            variant=\"outlined\"\n            startIcon={<ArrowBack />}\n            onClick={handlePreviousPage}\n            disabled={currentPage <= 1}\n          >\n            Previous\n          </Button>\n          \n          <Box display=\"flex\" alignItems=\"center\" gap={2}>\n            <Typography variant=\"body2\">Go to page:</Typography>\n            <Box sx={{ width: 200 }}>\n              <Slider\n                value={currentPage}\n                onChange={handlePageJump}\n                min={1}\n                max={totalPages}\n                valueLabelDisplay=\"auto\"\n                marks\n                step={1}\n              />\n            </Box>\n          </Box>\n          \n          <Button\n            variant=\"outlined\"\n            endIcon={<ArrowForward />}\n            onClick={handleNextPage}\n            disabled={currentPage >= totalPages}\n          >\n            Next\n          </Button>\n        </Box>\n      </Container>\n\n      {/* Settings Dialog */}\n      <Dialog open={settingsOpen} onClose={() => setSettingsOpen(false)} maxWidth=\"sm\" fullWidth>\n        <DialogTitle>Reading Settings</DialogTitle>\n        <DialogContent>\n          <Box sx={{ pt: 2 }}>\n            <Typography gutterBottom>Font Size</Typography>\n            <Slider\n              value={fontSize}\n              onChange={(e, newValue) => setFontSize(newValue)}\n              min={12}\n              max={24}\n              valueLabelDisplay=\"auto\"\n              marks={[\n                { value: 12, label: 'Small' },\n                { value: 16, label: 'Medium' },\n                { value: 20, label: 'Large' },\n                { value: 24, label: 'Extra Large' },\n              ]}\n            />\n            \n            <Box mt={3}>\n              <FormControl fullWidth>\n                <InputLabel>Theme</InputLabel>\n                <Select\n                  value={theme}\n                  label=\"Theme\"\n                  onChange={(e) => setTheme(e.target.value)}\n                >\n                  <MenuItem value=\"light\">Light</MenuItem>\n                  <MenuItem value=\"dark\">Dark</MenuItem>\n                </Select>\n              </FormControl>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSettingsOpen(false)}>Close</Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default BookReader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}