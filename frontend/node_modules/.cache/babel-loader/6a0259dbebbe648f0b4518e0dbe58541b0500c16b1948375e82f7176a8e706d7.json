{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder (3)\\\\frontend\\\\src\\\\components\\\\Books\\\\BookReader.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Paper, Typography, Box, Button, IconButton, LinearProgress, Dialog, DialogTitle, DialogContent, DialogActions, Slider, FormControl, InputLabel, Select, MenuItem, Alert, CircularProgress } from '@mui/material';\nimport { ArrowBack, ArrowForward, Settings, Close } from '@mui/icons-material';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { booksAPI } from '../../services/api';\nimport { useAuth } from '../../contexts/AuthContext';\n\n// Navigation controls component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NavigationControls = ({\n  onPrevious,\n  onNext,\n  currentPage,\n  totalPages,\n  onPageChange,\n  progressPercentage,\n  calculateReadingTime,\n  theme\n}) => /*#__PURE__*/_jsxDEV(Box, {\n  sx: {\n    position: 'fixed',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    p: 2,\n    backgroundColor: theme === 'dark' ? 'rgba(42, 42, 42, 0.9)' : 'rgba(255, 255, 255, 0.9)',\n    backdropFilter: 'blur(10px)',\n    borderTop: '1px solid',\n    borderColor: theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\n    zIndex: 1200\n  },\n  children: /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      maxWidth: 800,\n      mx: 'auto',\n      px: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: 2,\n      mb: 1,\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: onPrevious,\n        disabled: currentPage <= 1,\n        color: \"primary\",\n        size: \"large\",\n        children: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1,\n          px: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Slider, {\n          value: currentPage,\n          min: 1,\n          max: totalPages,\n          step: 1,\n          onChange: onPageChange,\n          valueLabelDisplay: \"auto\",\n          valueLabelFormat: value => `Page ${value}`,\n          sx: {\n            color: theme === 'dark' ? '#fff' : 'primary.main',\n            '& .MuiSlider-thumb': {\n              width: 16,\n              height: 16,\n              transition: '0.2s',\n              '&:hover, &.Mui-focusVisible': {\n                boxShadow: '0 0 0 8px rgba(25, 118, 210, 0.16)'\n              },\n              '&.Mui-active': {\n                width: 20,\n                height: 20\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: onNext,\n        disabled: currentPage >= totalPages,\n        color: \"primary\",\n        size: \"large\",\n        children: /*#__PURE__*/_jsxDEV(ArrowForward, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"text.secondary\",\n        children: [progressPercentage.toFixed(1), \"% \\u2022 \", calculateReadingTime()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: [\"Page \", currentPage, \" of \", totalPages]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 43,\n  columnNumber: 3\n}, this);\n_c = NavigationControls;\nconst BookReader = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [book, setBook] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [pages, setPages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [fontSize, setFontSize] = useState(16);\n  const [theme, setTheme] = useState('light');\n  const [progress, setProgress] = useState(null);\n  useEffect(() => {\n    fetchBook();\n    fetchProgress();\n  }, [id]);\n  useEffect(() => {\n    if (book && book.content) {\n      // Split content into pages (simple implementation)\n      const wordsPerPage = 300;\n      const words = book.content.split(' ');\n      const pageCount = Math.ceil(words.length / wordsPerPage);\n      const bookPages = [];\n      for (let i = 0; i < pageCount; i++) {\n        const startIndex = i * wordsPerPage;\n        const endIndex = Math.min((i + 1) * wordsPerPage, words.length);\n        const pageContent = words.slice(startIndex, endIndex).join(' ');\n        bookPages.push(`<p>${pageContent}</p>`);\n      }\n      setPages(bookPages);\n      setTotalPages(pageCount);\n\n      // Set current page from progress or start from beginning\n      if (progress && progress.current_page) {\n        setCurrentPage(progress.current_page);\n      }\n    }\n  }, [book, progress]);\n  useEffect(() => {\n    // Update reading progress when page changes\n    if (book && currentPage > 0) {\n      updateProgress();\n    }\n  }, [currentPage, book]);\n  const fetchBook = async () => {\n    try {\n      const response = await booksAPI.getBook(id);\n      setBook(response.data.book);\n    } catch (err) {\n      setError('Failed to load book');\n      console.error('Book fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchProgress = async () => {\n    try {\n      const response = await booksAPI.getProgress(id);\n      setProgress(response.data.progress);\n    } catch (err) {\n      // Progress might not exist yet, that's okay\n      console.log('No progress found for this book');\n    }\n  };\n  const updateProgress = async () => {\n    if (!user) return; // Don't track progress for non-authenticated users\n\n    try {\n      const response = await booksAPI.updateProgress(id, {\n        current_page: currentPage,\n        total_pages: totalPages\n      });\n\n      // Update local progress state with the latest from server\n      if (response.data && response.data.progress) {\n        setProgress(response.data.progress);\n      }\n\n      // Notify user when they complete the book\n      if (currentPage === totalPages && !(progress !== null && progress !== void 0 && progress.completed)) {\n        // Only show the completion message if we haven't already\n        if (!progress || progress.current_page < totalPages) {\n          // You can add a toast notification here if you have one\n          console.log('Book completed!');\n        }\n      }\n    } catch (err) {\n      console.error('Failed to update progress:', err);\n      // Consider adding a retry mechanism here\n    }\n  };\n  const handlePreviousPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(prevPage => {\n        const newPage = prevPage + 1;\n        // If this is the first page, we're starting the book\n        if (prevPage === 1 && !progress) {\n          // You can add analytics or additional logic for book start\n          console.log('Started reading book');\n        }\n        return newPage;\n      });\n    }\n  };\n  const handlePageJump = (event, value) => {\n    setCurrentPage(Math.min(Math.max(1, value), totalPages));\n  };\n  const progressPercentage = totalPages > 0 ? Math.min(100, Math.max(0, currentPage / totalPages * 100)) : 0;\n\n  // Calculate time spent reading (simple implementation)\n  const calculateReadingTime = () => {\n    if (!(progress !== null && progress !== void 0 && progress.started_reading)) return 'Just started';\n    const started = new Date(progress.started_reading);\n    const now = new Date();\n    const diffMs = now - started;\n    const diffMins = Math.round(diffMs / 60000);\n    if (diffMins < 1) return 'Just started';\n    if (diffMins < 60) return `${diffMins} min`;\n    const hours = Math.floor(diffMins / 60);\n    const mins = diffMins % 60;\n    return `${hours}h ${mins}m`;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        mt: 4,\n        mb: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        minHeight: \"400px\",\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !book) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        mt: 4,\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error || 'Book not found'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 2,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: () => navigate('/books'),\n          children: \"Back to Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      backgroundColor: theme === 'dark' ? '#1a1a1a' : '#f5f5f5',\n      pb: 12 // Add padding to prevent content from being hidden behind the navigation\n    },\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 1,\n      sx: {\n        p: 2,\n        position: 'sticky',\n        top: 0,\n        zIndex: 1000,\n        backgroundColor: theme === 'dark' ? '#2a2a2a' : '#ffffff',\n        borderBottom: '1px solid',\n        borderColor: theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => navigate('/books'),\n            sx: {\n              mr: 2\n            },\n            color: theme === 'dark' ? 'inherit' : 'default',\n            children: /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              maxWidth: 300,\n              overflow: 'hidden'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              noWrap: true,\n              children: book.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              noWrap: true,\n              children: [\"by \", book.author]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 1,\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => setSettingsOpen(true),\n            color: theme === 'dark' ? 'inherit' : 'default',\n            size: \"small\",\n            children: /*#__PURE__*/_jsxDEV(Settings, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 2,\n        children: /*#__PURE__*/_jsxDEV(LinearProgress, {\n          variant: \"determinate\",\n          value: progressPercentage,\n          sx: {\n            height: 4,\n            borderRadius: 3,\n            backgroundColor: theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        py: 4,\n        px: {\n          xs: 2,\n          sm: 3\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 0,\n        sx: {\n          p: {\n            xs: 3,\n            sm: 5,\n            md: 6\n          },\n          minHeight: '60vh',\n          backgroundColor: theme === 'dark' ? 'rgba(255, 255, 255, 0.03)' : 'rgba(0, 0, 0, 0.02)',\n          borderRadius: 2,\n          lineHeight: 1.8,\n          fontSize: `${fontSize}px`,\n          fontFamily: 'Georgia, serif',\n          color: theme === 'dark' ? 'rgba(255, 255, 255, 0.9)' : 'text.primary',\n          '& p': {\n            marginBottom: '1.5em',\n            textAlign: 'justify',\n            textJustify: 'inter-word',\n            hyphens: 'auto'\n          },\n          '&:hover': {\n            boxShadow: theme === 'dark' ? '0 0 20px rgba(255, 255, 255, 0.05)' : '0 0 20px rgba(0, 0, 0, 0.05)'\n          },\n          transition: 'all 0.3s ease-in-out',\n          mb: 12 // Add margin to prevent content from being hidden behind the navigation\n        },\n        dangerouslySetInnerHTML: {\n          __html: pages[currentPage - 1] || `<p style=\"text-align: center; color: #666; font-style: italic;\">\n                No content available for this page.\n              </p>`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavigationControls, {\n      onPrevious: handlePreviousPage,\n      onNext: handleNextPage,\n      currentPage: currentPage,\n      totalPages: totalPages,\n      onPageChange: (e, value) => handlePageJump(e, value),\n      progressPercentage: progressPercentage,\n      calculateReadingTime: calculateReadingTime,\n      theme: theme\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: settingsOpen,\n      onClose: () => setSettingsOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Reading Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            minWidth: 300,\n            pt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Font Size\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: fontSize,\n              label: \"Font Size\",\n              onChange: e => setFontSize(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 14,\n                children: \"Small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 16,\n                children: \"Medium\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 18,\n                children: \"Large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 20,\n                children: \"Extra Large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Theme\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: theme,\n              label: \"Theme\",\n              onChange: e => setTheme(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"light\",\n                children: \"Light\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"dark\",\n                children: \"Dark\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"sepia\",\n                children: \"Sepia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setSettingsOpen(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 5\n  }, this);\n};\n_s(BookReader, \"jKmjmv1Yf5FsKJtWwEH2/CVaVcE=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c2 = BookReader;\nexport default BookReader;\nvar _c, _c2;\n$RefreshReg$(_c, \"NavigationControls\");\n$RefreshReg$(_c2, \"BookReader\");","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","Typography","Box","Button","IconButton","LinearProgress","Dialog","DialogTitle","DialogContent","DialogActions","Slider","FormControl","InputLabel","Select","MenuItem","Alert","CircularProgress","ArrowBack","ArrowForward","Settings","Close","useParams","useNavigate","booksAPI","useAuth","jsxDEV","_jsxDEV","NavigationControls","onPrevious","onNext","currentPage","totalPages","onPageChange","progressPercentage","calculateReadingTime","theme","sx","position","bottom","left","right","p","backgroundColor","backdropFilter","borderTop","borderColor","zIndex","children","maxWidth","mx","px","display","alignItems","gap","mb","onClick","disabled","color","size","fileName","_jsxFileName","lineNumber","columnNumber","flexGrow","value","min","max","step","onChange","valueLabelDisplay","valueLabelFormat","width","height","transition","boxShadow","justifyContent","variant","toFixed","_c","BookReader","_s","id","navigate","user","book","setBook","setCurrentPage","setTotalPages","pages","setPages","loading","setLoading","error","setError","settingsOpen","setSettingsOpen","fontSize","setFontSize","setTheme","progress","setProgress","fetchBook","fetchProgress","content","wordsPerPage","words","split","pageCount","Math","ceil","length","bookPages","i","startIndex","endIndex","pageContent","slice","join","push","current_page","updateProgress","response","getBook","data","err","console","getProgress","log","total_pages","completed","handlePreviousPage","handleNextPage","prevPage","newPage","handlePageJump","event","started_reading","started","Date","now","diffMs","diffMins","round","hours","floor","mins","mt","minHeight","severity","pb","elevation","top","borderBottom","mr","overflow","noWrap","title","author","borderRadius","py","xs","sm","md","lineHeight","fontFamily","marginBottom","textAlign","textJustify","hyphens","dangerouslySetInnerHTML","__html","e","open","onClose","minWidth","pt","fullWidth","label","target","_c2","$RefreshReg$"],"sources":["D:/New folder (3)/frontend/src/components/Books/BookReader.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Paper,\n  Typography,\n  Box,\n  Button,\n  IconButton,\n  LinearProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Slider,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Alert,\n  CircularProgress,\n} from '@mui/material';\nimport {\n  ArrowBack,\n  ArrowForward,\n  Settings,\n  Close,\n} from '@mui/icons-material';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { booksAPI } from '../../services/api';\nimport { useAuth } from '../../contexts/AuthContext';\n\n// Navigation controls component\nconst NavigationControls = ({ \n  onPrevious, \n  onNext, \n  currentPage, \n  totalPages, \n  onPageChange,\n  progressPercentage,\n  calculateReadingTime,\n  theme\n}) => (\n  <Box sx={{ \n    position: 'fixed', \n    bottom: 0, \n    left: 0, \n    right: 0, \n    p: 2, \n    backgroundColor: theme === 'dark' ? 'rgba(42, 42, 42, 0.9)' : 'rgba(255, 255, 255, 0.9)',\n    backdropFilter: 'blur(10px)',\n    borderTop: '1px solid',\n    borderColor: theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\n    zIndex: 1200\n  }}>\n    <Box sx={{ maxWidth: 800, mx: 'auto', px: 2 }}>\n      <Box display=\"flex\" alignItems=\"center\" gap={2} mb={1}>\n        <IconButton \n          onClick={onPrevious} \n          disabled={currentPage <= 1}\n          color=\"primary\"\n          size=\"large\"\n        >\n          <ArrowBack />\n        </IconButton>\n        \n        <Box sx={{ flexGrow: 1, px: 2 }}>\n          <Slider\n            value={currentPage}\n            min={1}\n            max={totalPages}\n            step={1}\n            onChange={onPageChange}\n            valueLabelDisplay=\"auto\"\n            valueLabelFormat={(value) => `Page ${value}`}\n            sx={{\n              color: theme === 'dark' ? '#fff' : 'primary.main',\n              '& .MuiSlider-thumb': {\n                width: 16,\n                height: 16,\n                transition: '0.2s',\n                '&:hover, &.Mui-focusVisible': {\n                  boxShadow: '0 0 0 8px rgba(25, 118, 210, 0.16)',\n                },\n                '&.Mui-active': {\n                  width: 20,\n                  height: 20,\n                },\n              },\n            }}\n          />\n        </Box>\n        \n        <IconButton \n          onClick={onNext} \n          disabled={currentPage >= totalPages}\n          color=\"primary\"\n          size=\"large\"\n        >\n          <ArrowForward />\n        </IconButton>\n      </Box>\n      \n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n        <Typography variant=\"caption\" color=\"text.secondary\">\n          {progressPercentage.toFixed(1)}% â€¢ {calculateReadingTime()}\n        </Typography>\n        <Typography variant=\"body2\">\n          Page {currentPage} of {totalPages}\n        </Typography>\n      </Box>\n    </Box>\n  </Box>\n);\n\nconst BookReader = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [book, setBook] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [pages, setPages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [fontSize, setFontSize] = useState(16);\n  const [theme, setTheme] = useState('light');\n  const [progress, setProgress] = useState(null);\n\n  useEffect(() => {\n    fetchBook();\n    fetchProgress();\n  }, [id]);\n\n  useEffect(() => {\n    if (book && book.content) {\n      // Split content into pages (simple implementation)\n      const wordsPerPage = 300;\n      const words = book.content.split(' ');\n      const pageCount = Math.ceil(words.length / wordsPerPage);\n      \n      const bookPages = [];\n      for (let i = 0; i < pageCount; i++) {\n        const startIndex = i * wordsPerPage;\n        const endIndex = Math.min((i + 1) * wordsPerPage, words.length);\n        const pageContent = words.slice(startIndex, endIndex).join(' ');\n        bookPages.push(`<p>${pageContent}</p>`);\n      }\n      \n      setPages(bookPages);\n      setTotalPages(pageCount);\n      \n      // Set current page from progress or start from beginning\n      if (progress && progress.current_page) {\n        setCurrentPage(progress.current_page);\n      }\n    }\n  }, [book, progress]);\n\n  useEffect(() => {\n    // Update reading progress when page changes\n    if (book && currentPage > 0) {\n      updateProgress();\n    }\n  }, [currentPage, book]);\n\n  const fetchBook = async () => {\n    try {\n      const response = await booksAPI.getBook(id);\n      setBook(response.data.book);\n    } catch (err) {\n      setError('Failed to load book');\n      console.error('Book fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchProgress = async () => {\n    try {\n      const response = await booksAPI.getProgress(id);\n      setProgress(response.data.progress);\n    } catch (err) {\n      // Progress might not exist yet, that's okay\n      console.log('No progress found for this book');\n    }\n  };\n\n  const updateProgress = async () => {\n    if (!user) return; // Don't track progress for non-authenticated users\n    \n    try {\n      const response = await booksAPI.updateProgress(id, {\n        current_page: currentPage,\n        total_pages: totalPages,\n      });\n      \n      // Update local progress state with the latest from server\n      if (response.data && response.data.progress) {\n        setProgress(response.data.progress);\n      }\n      \n      // Notify user when they complete the book\n      if (currentPage === totalPages && !progress?.completed) {\n        // Only show the completion message if we haven't already\n        if (!progress || progress.current_page < totalPages) {\n          // You can add a toast notification here if you have one\n          console.log('Book completed!');\n        }\n      }\n    } catch (err) {\n      console.error('Failed to update progress:', err);\n      // Consider adding a retry mechanism here\n    }\n  };\n\n  const handlePreviousPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(prevPage => {\n        const newPage = prevPage + 1;\n        // If this is the first page, we're starting the book\n        if (prevPage === 1 && !progress) {\n          // You can add analytics or additional logic for book start\n          console.log('Started reading book');\n        }\n        return newPage;\n      });\n    }\n  };\n\n  const handlePageJump = (event, value) => {\n    setCurrentPage(Math.min(Math.max(1, value), totalPages));\n  };\n\n  const progressPercentage = totalPages > 0 ? Math.min(100, Math.max(0, (currentPage / totalPages) * 100)) : 0;\n  \n  // Calculate time spent reading (simple implementation)\n  const calculateReadingTime = () => {\n    if (!progress?.started_reading) return 'Just started';\n    \n    const started = new Date(progress.started_reading);\n    const now = new Date();\n    const diffMs = now - started;\n    const diffMins = Math.round(diffMs / 60000);\n    \n    if (diffMins < 1) return 'Just started';\n    if (diffMins < 60) return `${diffMins} min`;\n    \n    const hours = Math.floor(diffMins / 60);\n    const mins = diffMins % 60;\n    return `${hours}h ${mins}m`;\n  };\n\n  if (loading) {\n    return (\n      <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\n          <CircularProgress />\n        </Box>\n      </Container>\n    );\n  }\n\n  if (error || !book) {\n    return (\n      <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\n        <Alert severity=\"error\">\n          {error || 'Book not found'}\n        </Alert>\n        <Box mt={2}>\n          <Button variant=\"contained\" onClick={() => navigate('/books')}>\n            Back to Books\n          </Button>\n        </Box>\n      </Container>\n    );\n  }\n\n  return (\n    <Box sx={{ \n      minHeight: '100vh', \n      backgroundColor: theme === 'dark' ? '#1a1a1a' : '#f5f5f5',\n      pb: 12 // Add padding to prevent content from being hidden behind the navigation\n    }}>\n      {/* Header */}\n      <Paper \n        elevation={1} \n        sx={{ \n          p: 2, \n          position: 'sticky', \n          top: 0, \n          zIndex: 1000,\n          backgroundColor: theme === 'dark' ? '#2a2a2a' : '#ffffff',\n          borderBottom: '1px solid',\n          borderColor: theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'\n        }}\n      >\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n          <Box display=\"flex\" alignItems=\"center\">\n            <IconButton \n              onClick={() => navigate('/books')} \n              sx={{ mr: 2 }}\n              color={theme === 'dark' ? 'inherit' : 'default'}\n            >\n              <Close />\n            </IconButton>\n            <Box sx={{ maxWidth: 300, overflow: 'hidden' }}>\n              <Typography variant=\"h6\" noWrap>\n                {book.title}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\" noWrap>\n                by {book.author}\n              </Typography>\n            </Box>\n          </Box>\n          \n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\n            <IconButton \n              onClick={() => setSettingsOpen(true)}\n              color={theme === 'dark' ? 'inherit' : 'default'}\n              size=\"small\"\n            >\n              <Settings />\n            </IconButton>\n          </Box>\n        </Box>\n        \n        <Box mt={2}>\n          <LinearProgress \n            variant=\"determinate\" \n            value={progressPercentage} \n            sx={{ \n              height: 4, \n              borderRadius: 3,\n              backgroundColor: theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'\n            }}\n          />\n        </Box>\n      </Paper>\n\n      {/* Content */}\n      <Container maxWidth=\"md\" sx={{ py: 4, px: { xs: 2, sm: 3 } }}>\n        <Paper \n          elevation={0}\n          sx={{\n            p: { xs: 3, sm: 5, md: 6 },\n            minHeight: '60vh',\n            backgroundColor: theme === 'dark' ? 'rgba(255, 255, 255, 0.03)' : 'rgba(0, 0, 0, 0.02)',\n            borderRadius: 2,\n            lineHeight: 1.8,\n            fontSize: `${fontSize}px`,\n            fontFamily: 'Georgia, serif',\n            color: theme === 'dark' ? 'rgba(255, 255, 255, 0.9)' : 'text.primary',\n            '& p': {\n              marginBottom: '1.5em',\n              textAlign: 'justify',\n              textJustify: 'inter-word',\n              hyphens: 'auto'\n            },\n            '&:hover': {\n              boxShadow: theme === 'dark' \n                ? '0 0 20px rgba(255, 255, 255, 0.05)' \n                : '0 0 20px rgba(0, 0, 0, 0.05)'\n            },\n            transition: 'all 0.3s ease-in-out',\n            mb: 12 // Add margin to prevent content from being hidden behind the navigation\n          }}\n          dangerouslySetInnerHTML={{ \n            __html: pages[currentPage - 1] || \n              `<p style=\"text-align: center; color: #666; font-style: italic;\">\n                No content available for this page.\n              </p>`\n          }}\n        />\n      </Container>\n\n      {/* Navigation Controls */}\n      <NavigationControls \n        onPrevious={handlePreviousPage}\n        onNext={handleNextPage}\n        currentPage={currentPage}\n        totalPages={totalPages}\n        onPageChange={(e, value) => handlePageJump(e, value)}\n        progressPercentage={progressPercentage}\n        calculateReadingTime={calculateReadingTime}\n        theme={theme}\n      />\n\n      {/* Settings Dialog */}\n      <Dialog open={settingsOpen} onClose={() => setSettingsOpen(false)}>\n        <DialogTitle>Reading Settings</DialogTitle>\n        <DialogContent>\n          <Box sx={{ minWidth: 300, pt: 1 }}>\n            <FormControl fullWidth sx={{ mb: 3 }}>\n              <InputLabel>Font Size</InputLabel>\n              <Select\n                value={fontSize}\n                label=\"Font Size\"\n                onChange={(e) => setFontSize(e.target.value)}\n              >\n                <MenuItem value={14}>Small</MenuItem>\n                <MenuItem value={16}>Medium</MenuItem>\n                <MenuItem value={18}>Large</MenuItem>\n                <MenuItem value={20}>Extra Large</MenuItem>\n              </Select>\n            </FormControl>\n            \n            <FormControl fullWidth>\n              <InputLabel>Theme</InputLabel>\n              <Select\n                value={theme}\n                label=\"Theme\"\n                onChange={(e) => setTheme(e.target.value)}\n              >\n                <MenuItem value=\"light\">Light</MenuItem>\n                <MenuItem value=\"dark\">Dark</MenuItem>\n                <MenuItem value=\"sepia\">Sepia</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSettingsOpen(false)}>Close</Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default BookReader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}